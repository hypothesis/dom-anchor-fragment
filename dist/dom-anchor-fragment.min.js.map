{"version":3,"sources":["dom-anchor-fragment.js"],"names":["global","factory","define","amd","exports","module","mod","domAnchorFragment","this","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","FragmentAnchor","id","undefined","Error","value","el","document","getElementById","range","createRange","selectNodeContents","conformsTo","SVGElement","type","commonAncestorContainer","parentElement","selector"],"mappings":"CAAA,SAAWA,EAAQC,GACjB,GAAsB,kBAAXC,SAAyBA,OAAOC,IACzCD,QAAQ,UAAW,UAAWD,OACzB,IAAuB,mBAAZG,UAA6C,mBAAXC,QAClDJ,EAAQG,QAASC,YACZ,CACL,GAAIC,IACFF,WAEFH,GAAQK,EAAIF,QAASE,GACrBN,EAAOO,kBAAoBD,EAAIF,UAEhCI,KAAM,SAAUJ,EAASC,GAQ1B,YAIA,SAASI,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAAiB,MAAO,UAAUR,EAAae,EAAYC,GAAiJ,MAA9HD,IAAYZ,EAAiBH,EAAYiB,UAAWF,GAAiBC,GAAab,EAAiBH,EAAagB,GAAqBhB,MAf9gBkB,EAAc,WACtB,QADQA,GACPC,GACV,GAmBErB,EAAgBD,KArBDqB,GAENE,SAAPD,EACF,KAAM,IAAIE,OAAM,kCAElBxB,MAAKsB,GAAKA,EA6EV,MArDAjB,GA7BiBgB,IA8BfJ,IAAK,UACLQ,MAFG,WACL,GAAIC,GAAKlC,OAAOmC,SAASC,eAAe5B,KAAKsB,GAC7C,IAAU,MAANI,EACF,KAAM,IAAIF,OAAM,6BAA+BxB,KAAKsB,GAAK,IAE3D,IAAIO,GAAQrC,OAAOmC,SAASG,aAE5B,OADAD,GAAME,mBAAmBL,GAClBG,KAKLZ,IAAK,aACLQ,MAHM,WACR,GAAIC,GAAKlC,OAAOmC,SAASC,eAAe5B,KAAKsB,GAC7C,IAAU,MAANI,EACF,KAAM,IAAIF,OAAM,6BAA+BxB,KAAKsB,GAAK,IAE3D,IAAIU,GAAa,qCAIjB,OAHIN,aAAcO,cAChBD,EAAa,8BAGbE,KAAM,mBACNT,MAAOzB,KAAKsB,GACZU,WAAYA,QAOZf,IAAK,YACLQ,MAnDY,SAACI,GACf,GAAcN,SAAVM,EACF,KAAM,IAAIL,OAAM,qCAGlB,KADA,GAAIE,GAAKG,EAAMM,wBACF,MAANT,IAAeA,EAAGJ,IACvBI,EAAKA,EAAGU,aAEV,IAAU,MAANV,EACF,KAAM,IAAIF,OAAM,+BAElB,OAAO,IAAIH,GAAeK,EAAGJ,OAsD3BL,IAAK,eACLQ,MApDe,SAACY,GAClB,GAAiBd,SAAbc,EACF,KAAM,IAAIb,OAAM,wCAElB,OAAO,IAAIH,GAAegB,EAASZ,WA1BlBJ,IAqFnBxB,GAAOD,QArFYyB","file":"dom-anchor-fragment.min.js","sourcesContent":["/**\n* class:: FragmentAnchor(id)\n*\n* An anchor representing a fragment identifier.\n*\n* :param String id: The id of the fragment identified by the anchor.\n*/\nexport default class FragmentAnchor {\n  constructor(id) {\n    if (id === undefined) {\n      throw new Error('missing required parameter \"id\"');\n    }\n    this.id = id;\n  }\n\n  static fromRange(range) {\n    if (range === undefined) {\n      throw new Error('missing required parameter \"range\"');\n    }\n    let el = range.commonAncestorContainer;\n    while (el != null && !el.id) {\n      el = el.parentElement;\n    }\n    if (el == null) {\n      throw new Error('no fragment identifier found');\n    }\n    return new FragmentAnchor(el.id);\n  }\n\n  static fromSelector(selector) {\n    if (selector === undefined) {\n      throw new Error('missing required parameter \"selector\"');\n    }\n    return new FragmentAnchor(selector.value);\n  }\n\n  toRange() {\n    let el = global.document.getElementById(this.id);\n    if (el == null) {\n      throw new Error('no element found with id \"' + this.id + '\"');\n    }\n    let range = global.document.createRange();\n    range.selectNodeContents(el);\n    return range;\n  }\n\n  toSelector() {\n    let el = global.document.getElementById(this.id);\n    if (el == null) {\n      throw new Error('no element found with id \"' + this.id + '\"');\n    }\n    let conformsTo = 'https://tools.ietf.org/html/rfc3236';\n    if (el instanceof SVGElement) {\n      conformsTo = 'http://www.w3.org/TR/SVG/';\n    }\n    return {\n      type: 'FragmentSelector',\n      value: this.id,\n      conformsTo: conformsTo,\n    };\n  }\n}\n"],"sourceRoot":"./"}